<!-- Notification -->
<div *ngIf="showToast"
  class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white rounded-lg shadow-lg flex items-center max-w-xs min-w-[50px] animate-toast">
  <div class=" h-12 bg-white flex items-center justify-center rounded-l-lg">
    <span class="text-white text-2xl">üéâüéâ</span>
  </div>
  <div class="px-4 py-2 text-sm whitespace-nowrap overflow-hidden">
    F√©licitations ! Vous avez r√©ussi !
  </div>
</div>

<!-- start: Main -->
<div class="">
  <div class="bg-gray-200 p-4 rounded-md m-5">
    <span class="text-neutral-800 text-xl">Bonjour ch√®re √©quipe CBAO,</span>
    <span class="text-neutral-800 text-xl">Bienvenue sur le test du Mini DISC Comportemental. C‚Äôest un outil simple et
      efficace
      permettant de mieux comprendre les comportements individuels et d'am√©liorer les interactions au sein des
      √©quipes.</span>
    <span class="text-neutral-800 text-xl">Pour chaque ligne, identifiez la case qui vous :</span>
    <p class="text-neutral-800 font-bold text-center">Correspond le plus</p>
    <p class="text-neutral-800 font-bold text-center">Correspond assez</p>
    <p class="text-neutral-800 font-bold text-center">Correspond assez peu</p>
    <p class="text-neutral-800 font-bold text-center">Correspond pas du tout</p>
    <p class="text-neutral-800 font-bold text-center">Bon test!</p>
    <div class="flex justify-center">
      <button *ngIf="!testStarted" (click)="startTest()"
        class="bg-[#114C5A] hover:bg-[#EF7743] text-white font-bold py-2 px-4 rounded">
        D√©marrer le test
      </button>
    </div>
  </div>
  <!-- Afficher les couleurs et leurs caracteristiques -->
  <div *ngIf="displayColorCharacteristics" class="flex flex-col items-center">
    <span class="uppercase text-2xl font-bold mb-6 text-center">
      Bravo, la couleur qui vous caract√©rise c'est le {{ getDominantColorInFrench() }}
    </span>

    <div class="flex flex-col md:flex-row justify-center gap-10">
      <div *ngIf="dominantColor === 'blue'" class="flex flex-col items-center">
        <div class="text-white w-96 text-center h-10 uppercase bg-[#0000FF]">Bleu</div>
        <p class="mt-2 text-center">. Rechercher des faits et des explications logiques</p>
        <p class="mt-2 text-center">. Actions et prise de d√©cision prudentes</p>
        <p class="mt-2 text-center">. Aime l'organisation et les structures</p>
        <p class="mt-2 text-center">. N'aime pas √™tre brusqu√©</p>
        <p class="mt-2 text-center">. S'int√©resse aux d√©tails</p>
        <p class="mt-2 text-center">. Objectif, analytique et orient√© vers les t√¢ches</p>
        <p class="mt-2 text-center">. Travaille seul et avec pr√©cision</p>
        <p class="mt-2 text-center">. Froid et distant; peu ouvert aux sentiments</p>
      </div>

      <div *ngIf="dominantColor === 'red'" class="flex flex-col items-center">
        <div class="text-white w-96 text-center h-10 uppercase bg-[#FF0000]">Rouge</div>
        <p class="mt-2 text-center">. Rapide; d√©cid√©; √©nergique</p>
        <p class="mt-2 text-center">. Directe et pragmatique</p>
        <p class="mt-2 text-center">. Sens du r√©sultat</p>
        <p class="mt-2 text-center">. Aime la comp√©tition</p>
        <p class="mt-2 text-center">. Recherche le maximum d'ind√©pendance</p>
        <p class="mt-2 text-center">. N'aime pas l'inaction</p>
        <p class="mt-2 text-center">. Travaille rapidement et seul</p>
        <p class="mt-2 text-center">. Aime contr√¥ler</p>
      </div>

      <div *ngIf="dominantColor === 'green'" class="flex flex-col items-center">
        <div class="text-white w-96 text-center h-10 uppercase bg-[#008000]">Vert</div>
        <p class="mt-2 text-center">. Attention√©, stable, coop√©rant</p>
        <p class="mt-2 text-center">. Aime les relations personnalis√©es</p>
        <p class="mt-2 text-center">. N'aime pas les conflits</p>
        <p class="mt-2 text-center">. Soutien et √©coute activement les autres</p>
        <p class="mt-2 text-center">. Renforce la coh√©sion</p>
        <p class="mt-2 text-center">. Accommodant</p>
        <p class="mt-2 text-center">. Patient</p>
        <p class="mt-2 text-center">. Lent √† passer √† l'acte √† d√©cider</p>
      </div>

      <div *ngIf="dominantColor === 'yellow'" class="flex flex-col items-center">
        <div class="text-white w-96 text-center h-10 uppercase bg-[#FFFF00]">Jaune</div>
        <p class="mt-2 text-center">. Optimisme, enthousiasme, communiquant</p>
        <p class="mt-2 text-center">. Actions et d√©cisions spontan√©es</p>
        <p class="mt-2 text-center">. Aime travailler en groupe</p>
        <p class="mt-2 text-center">. Cr√©atif, tendance √† r√™ver</p>
        <p class="mt-2 text-center">. Spontan√©, sens de l'improvisation</p>
        <p class="mt-2 text-center">. Talents de percussion</p>
        <p class="mt-2 text-center">. Impulsif</p>
        <p class="mt-2 text-center">. Saute d'une activit√© √† l'autre</p>
      </div>
    </div>

    <div class="relative w-64 h-64 mt-10">
      <div class="color-circle w-full h-full rounded-full" [ngStyle]="getCircleStyle()"></div>

      <div class="absolute -top-1 left-[95%] translate-x-[-50%] flex flex-col items-center -mt-12">
        <img src="assets/images/1.jpg" alt="Taureau" class="animal-icon w-12 h-12" />
        <span>Taureau</span>
      </div>

      <div class="absolute top-[80%] -right-20 translate-y-[-50%] flex flex-col items-center">
        <img src="assets/images/33.avif" alt="Singe" class="animal-icon w-12 h-12" />
        <span>Singe</span>
      </div>

      <div class="absolute bottom-0 -left-[10%] translate-x-[-50%] flex flex-col items-center mt-12">
        <img src="assets/images/tortue.png" alt="Tortue" class="animal-icon w-12 h-12" />
        <span>Tortue</span>
      </div>

      <div class="absolute -top-1 left-0 translate-y-[-50%] flex flex-col items-center -ml-12">
        <img src="assets/images/12.jpg" alt="Aigle" class="animal-icon w-12 h-12" />
        <span>Aigle</span>
      </div>
    </div>

    <!-- <div class="flex gap-10 justify-center mt-6">
      <button (click)="openModal()" class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">Caract√©ristique des autres
        couleurs</button>
      <button (click)="openModalComm()" class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">Comment
        communiquer avec les autres couleurs</button>
    </div> -->
  </div>

  <!-- apr√®s avoir cliqu√© sur le bouton "D√©marrer le test" -->
  <div class="flex justify-center">
    <!-- Le contenu √† centrer -->
    <div *ngIf="testStarted" class="border border-gray-400 w-full sm:w-11/12 md:w-10/12 lg:w-8/12 rounded-md shadow-l">
      <!-- Section Question -->
      <div *ngIf="currentQuestionIndex < questions.length" class="p-4 sm:p-8 md:p-12 lg:p-20">
        <h2 class="text-[#114C5A]">{{ currentQuestionIndex + 1 }}.{{ questions[currentQuestionIndex].text }}</h2>

        <!-- Liste des r√©ponses -->
        <div *ngFor="let answer of remainingAnswers; let i = index" class="mt-5">
          <p class="text-[#EF7743]">{{ answer.text }}</p>
          <div>
            <label *ngIf="remainingPoints.includes(6)">
              <input type="radio" name="points" [value]="6" (change)="submitAnswer(6, answer); answerSelected = true">
              Me correspond le plus
            </label>
            <label *ngIf="remainingPoints.includes(3)">
              <input type="radio" name="points" [value]="3" (change)="submitAnswer(3, answer); answerSelected = true">
              Me correspond assez
            </label>
            <label *ngIf="remainingPoints.includes(1)">
              <input type="radio" name="points" [value]="1" (change)="submitAnswer(1, answer); answerSelected = true">
              Me correspond peu
            </label>
            <label *ngIf="remainingPoints.includes(0)">
              <input type="radio" name="points" [value]="0" (change)="submitAnswer(0, answer); answerSelected = true">
              Ne me correspond pas du tout
            </label>
          </div>
        </div>

        <!-- Boutons pour naviguer entre les questions -->
        <div class="mt-4">
          <button *ngIf="currentQuestionIndex > 0" (click)="previousQuestion()"
            class="bg-[#EF7743] text-white px-4 py-2 rounded-md mr-2">
            Pr√©c√©dent
          </button>
          <!-- <button *ngIf="currentQuestionIndex < questions.length - 1" (click)="nextQuestion(); answerSelected = false"
            class="bg-[#114C5A] text-white px-4 py-2 rounded-md" [disabled]="!answerSelected">
            Suivant
          </button> -->
          <button *ngIf="currentQuestionIndex < questions.length - 1" (click)="nextQuestion()"
            class="bg-[#114C5A] text-white px-4 py-2 rounded-md" [disabled]="!answerSelected">
            Suivant
          </button>
        </div>
      </div>

      <!-- Si toutes les questions sont termin√©es, afficher le bouton Envoyer -->
      <div *ngIf="currentQuestionIndex == questions.length" class="p-4 sm:p-8 md:p-12 lg:p-20 flex justify-center">
        <button (click)="sendResults(); closeTest(); launchToast()"
          class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">
          Voir mes r√©sultats
        </button>
      </div>
    </div>
  </div>





  <!-- Apres avoir fait le test on affiche le couleur ce qui conrrond le plus avec le cercle de ces couleurs-->

  <!-- Modal pour afficher les r√©sultats -->
  <!-- <div *ngIf="showResultsModal" class="fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50">
      <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
        <h2 class="text-xl font-bold mb-4">R√©sultats du test</h2>
        <p class="text-red-500">Rouge: {{ scores['red'] }} points</p>
        <p class="text-yellow-500">Jaune: {{ scores['yellow'] }} points</p>
        <p class="text-green-500">Vert: {{ scores['green'] }} points</p>
        <p class="text-blue-500">Bleu: {{ scores['blue'] }} points</p> -->
  <!-- Affichage du texte avec la couleur du score le plus √©lev√© -->
  <!-- <p [ngStyle]="{'color': getHighestScoreColor()}">
          Couleur avec le plus de points : {{ getHighestScoreColor() | titlecase }}
        </p>
        <p class="font-bold">Somme totale des points est : {{ calculateTotalColorScore() }} points</p> -->
  <!-- Bouton pour fermer la modal -->
  <!-- <button (click)="closeModal(); sendResults()" class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">Fermer</button>
      </div>
    </div> -->
</div>
<!-- modal pour bien communiquer avec.... -->
<div *ngIf="open" class="fixed inset-0 z-60 flex items-center justify-center bg-gray-900 bg-opacity-50">
  <div class="bg-white p-4 sm:p-6 md:p-8 rounded-lg shadow-lg max-w-full sm:max-w-7xl w-full h-[80vh] overflow-y-auto">
    <div class="flex justify-between items-center mb-4">
      <span class="uppercase text-lg sm:text-xl md:text-2xl font-bold">Pour bien communiquer avec...</span>
      <button class="text-red-400 hover:text-gray-700" (click)="closeModal()">x</button>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">

      <!-- Section Bleue -->
      <div class="flex flex-col items-center">
        <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#0000FF]">Bleu</div>
        <p class="mt-2 text-center">. Soyez pr√©cis, factuel, structur√©</p>
        <p class="mt-2 text-center">. Pr√©parez vos entretiens</p>
        <p class="mt-2 text-center">. Soutenez une approche r√©aliste et mesur√©e</p>
        <p class="mt-2 text-center">. Prenez le temps d'aller dans les d√©tails</p>
        <p class="mt-2 text-center">. Ne le brusquez pas</p>
        <p class="mt-2 text-center">. Ne cherchez pas √† r√©chauffer l'ambiance</p>
        <p class="mt-2 text-center">. Restez distant, ne le touchez pas</p>
        <p class="mt-2 text-center">. Soyez pr√™t qu'il contienne les faits</p>
      </div>

      <!-- Section Rouge -->
      <div class="flex flex-col items-center">
        <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#FF0000]">Rouge</div>
        <p class="mt-2 text-center">. Soyez concis et affirm√©</p>
        <p class="mt-2 text-center">. Allez droit au but</p>
        <p class="mt-2 text-center">. Les questionnaires sur leurs objectifs</p>
        <p class="mt-2 text-center">. Amenez-les √† √™tre moteurs et d√©cider</p>
        <p class="mt-2 text-center">. Valorisez leur sens au d√©fi et de la r√©activit√©</p>
        <p class="mt-2 text-center">. √âvitez trop factuel</p>
        <p class="mt-2 text-center">. Restez factuel</p>
        <p class="mt-2 text-center">. Pr√©parez-vous √† d√©fendre vos arguments</p>
      </div>

      <!-- Section Verte -->
      <div class="flex flex-col items-center">
        <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#008000]">Vert</div>
        <p class="mt-2 text-center">. Soyez empathique, relationnel et animal</p>
        <p class="mt-2 text-center">. Cr√©ez des relations partenaires et solides</p>
        <p class="mt-2 text-center">. Donnez-vous du temps pour construire la confiance</p>
        <p class="mt-2 text-center">. Accompagnez et aidez-les √† d√©cider</p>
        <p class="mt-2 text-center">. Respectez leurs id√©es</p>
        <p class="mt-2 text-center">. N'ayez pas peur de leurs moments de silence</p>
        <p class="mt-2 text-center">. Ne critiquez pas de tierces personnes</p>
        <p class="mt-2 text-center">. Soyez patients</p>
      </div>

      <!-- Section Jaune -->
      <div class="flex flex-col items-center">
        <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#DACF0A]">Jaune</div>
        <p class="mt-2 text-center">. Montrez-vous relationnel</p>
        <p class="mt-2 text-center">. Soyez cr√©atif et informel</p>
        <p class="mt-2 text-center">. Partagez leur plaisir et laissez-les s'exprimer</p>
        <p class="mt-2 text-center">. R√™vez avec eux</p>
        <p class="mt-2 text-center">. Aidez-les √† canaliser leur √©nergie</p>
        <p class="mt-2 text-center">. Restez dynamique et engageant</p>
        <p class="mt-2 text-center">. Valorisez leur sens de cr√©ativit√©</p>
        <p class="mt-2 text-center">. Soyez pr√™t √† d√©vier du sujet</p>
      </div>

    </div>
  </div>
</div>





<!-- Modal pour ce qui me caraterise... -->
<div>
  <div *ngIf="displayCom" class="fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50">
    <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-full sm:max-w-7xl w-full h-[80vh] overflow-y-auto">
      <div class="flex justify-between items-center mb-4">
        <span class="uppercase text-2xl font-bold">Ce qui me caract√©rise...</span>
        <button class="text-red-400 hover:text-gray-700" (click)="closeCom()">x</button>
      </div>
      <div class="flex flex-col md:flex-row gap-10">
        <div class="flex flex-col gap-6 w-full md:w-1/2">
          <div class="flex flex-col items-center">
            <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#0000FF]">Bleu</div>
            <p class="mt-2 text-center">. Rechercher des frais et des explications logiques</p>
            <p class="mt-2 text-center">. Actions et prise de d√©cision prudentes</p>
            <p class="mt-2 text-center">. Aime l'organisation et les structures</p>
            <p class="mt-2 text-center">. N'aime pas √™tre brusqu√©</p>
            <p class="mt-2 text-center">. S'int√©resse aux d√©tails</p>
            <p class="mt-2 text-center">. Objectif, analytique et orient√© vers les t√¢ches</p>
            <p class="mt-2 text-center">. Travail seul et avec pr√©cision</p>
            <p class="mt-2 text-center">. Froid et distant; peu ouvert aux sentiments</p>
          </div>
          <div class="flex flex-col items-center">
            <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#FF0000]">Rouge</div>
            <p class="mt-2 text-center">. Rapide; d√©cid√©; √©nergique</p>
            <p class="mt-2 text-center">. Directe et pragmatique</p>
            <p class="mt-2 text-center">. Sens du r√©sultat</p>
            <p class="mt-2 text-center">. Aime la comp√©tition</p>
            <p class="mt-2 text-center">. Recherche le maximum d'ind√©pendance</p>
            <p class="mt-2 text-center">. N'aime pas l'inaction</p>
            <p class="mt-2 text-center">. Travaille rapidement et seul</p>
            <p class="mt-2 text-center">. Aime contr√¥ler</p>
          </div>
        </div>

        <div class="flex flex-col gap-6 w-full md:w-1/2">
          <div class="flex flex-col items-center">
            <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#008000]">Vert</div>
            <p class="mt-2 text-center">. Attentionn√©, stable, coop√©rant</p>
            <p class="mt-2 text-center">. Aime les relations personnalis√©es</p>
            <p class="mt-2 text-center">. N'aime pas les conflits</p>
            <p class="mt-2 text-center">. Soutient et √©coute activement les autres</p>
            <p class="mt-2 text-center">. Renforce la coh√©sion</p>
            <p class="mt-2 text-center">. Accommodant</p>
            <p class="mt-2 text-center">. Patient</p>
            <p class="mt-2 text-center">. Lent √† passer √† l'acte √† d√©cider</p>
          </div>
          <div class="flex flex-col items-center">
            <div class="text-white w-full max-w-xs text-center h-10 uppercase bg-[#DACF0A]">Jaune</div>
            <p class="mt-2 text-center">. Optimisme, enthousiasme, communicant</p>
            <p class="mt-2 text-center">. Actions et d√©cisions spontan√©es</p>
            <p class="mt-2 text-center">. Aime travailler en groupe</p>
            <p class="mt-2 text-center">. Cr√©atif, tendance √† r√™ver</p>
            <p class="mt-2 text-center">. Spontan√©, sens de l'improvisation</p>
            <p class="mt-2 text-center">. Talents de percussion</p>
            <p class="mt-2 text-center">. Impulsif</p>
            <p class="mt-2 text-center">. Saute d'une activit√© √† l'autre</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Le premier test -->
<div class="flex justify-center">
  <!-- Le contenu √† centrer -->
  <div *ngIf="testStarted" class="border border-gray-300 rounded-lg shadow-md p-6 space-y-6">
    <!-- Section Question -->
    <div *ngIf="currentQuestionIndex < questions.length" class="p-4 sm:p-8 md:p-12 lg:p-20">
      <h2 class="text-[#114C5A]">{{ currentQuestionIndex + 1 }}.{{ questions[currentQuestionIndex].text }}</h2>

      <!-- Liste des r√©ponses -->
      <div *ngFor="let answer of remainingAnswers; let i = index" class="mt-5">
        <p class="text-[#EF7743] text-lg">{{ answer.text }}</p>
        <div>
          <label *ngIf="remainingPoints.includes(6)">
            <input type="radio" name="points" [value]="6" (change)="submitAnswer(6, answer); answerSelected = true">
            Me correspond le plus
          </label>
          <label *ngIf="remainingPoints.includes(3)">
            <input type="radio" name="points" [value]="3" (change)="submitAnswer(3, answer); answerSelected = true">
            Me correspond assez
          </label>
          <label *ngIf="remainingPoints.includes(1)">
            <input type="radio" name="points" [value]="1" (change)="submitAnswer(1, answer); answerSelected = true">
            Me correspond assez peu
          </label>
          <label *ngIf="remainingPoints.includes(0)">
            <input type="radio" name="points" [value]="0" (change)="submitAnswer(0, answer); answerSelected = true">
            Ne me correspond pas du tout
          </label>
        </div>
      </div>

      <!-- Boutons pour naviguer entre les questions -->
      <div class="mt-4">
        <button *ngIf="currentQuestionIndex > 0" (click)="previousQuestion()"
          class="bg-[#EF7743] text-white px-4 py-2 rounded-md mr-2">
          Pr√©c√©dent
        </button>
        <button *ngIf="currentQuestionIndex < questions.length - 1" (click)="nextQuestion()"
          class="bg-[#114C5A] text-white px-4 py-2 rounded-md" [disabled]="!answerSelected">
          Suivant
        </button>
      </div>
    </div>

    <!-- Si toutes les questions sont termin√©es, afficher le bouton Envoyer -->
    <div *ngIf="currentQuestionIndex == questions.length" class="p-4 sm:p-8 md:p-12 lg:p-20 flex justify-center">
      <button (click)="sendResults(); closeTest(); launchToast()"
        class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">
        Voir mes r√©sultats
      </button>
    </div>
  </div>
</div>



<!-- Dernier mis a jours -->

<div class="flex justify-center">
  <!-- Contenu centr√© -->
  <div *ngIf="testStarted" class="border border-gray-300 rounded-lg shadow-md p-6 space-y-6">
    <!-- Section Question -->
    <div *ngIf="currentQuestionIndex < questions.length" class="p-4 sm:p-8 md:p-12 lg:p-20">
      <!-- Affichage de la question -->
      <h2 class="text-[#114C5A] text-xl font-semibold mb-4">
        {{ currentQuestionIndex + 1 }}. {{ questions[currentQuestionIndex].text }}
      </h2>

      <!-- R√©ponse associ√©e √† la question -->
      <p class="text-[#EF7743] text-lg font-medium mb-4">{{ remainingAnswers[0]?.text }}</p>

      <!-- Options de r√©ponse -->
      <div class="space-y-3">
        <label *ngIf="remainingPoints.includes(6)" class="flex items-center space-x-2">
          <input type="radio" name="points" [value]="6"
            (change)="submitAnswer(6, remainingAnswers[0]); answerSelected = true">
          <span>Correspond le plus</span>
        </label>
        <label *ngIf="remainingPoints.includes(3)" class="flex items-center space-x-2">
          <input type="radio" name="points" [value]="3"
            (change)="submitAnswer(3, remainingAnswers[0]); answerSelected = true">
          <span>Correspond assez</span>
        </label>
        <label *ngIf="remainingPoints.includes(1)" class="flex items-center space-x-2">
          <input type="radio" name="points" [value]="1"
            (change)="submitAnswer(1, remainingAnswers[0]); answerSelected = true">
          <span>Correspond assez peu</span>
        </label>
        <label *ngIf="remainingPoints.includes(0)" class="flex items-center space-x-2">
          <input type="radio" name="points" [value]="0"
            (change)="submitAnswer(0, remainingAnswers[0]); answerSelected = true">
          <span>Correspond pas du tout</span>
        </label>
      </div>

      <!-- Navigation entre les questions -->
      <div class="mt-8 flex justify-between">
        <button *ngIf="currentQuestionIndex > 0" (click)="previousQuestion()"
          class="bg-[#EF7743] text-white px-4 py-2 rounded-md">
          Pr√©c√©dent
        </button>
        <button *ngIf="currentQuestionIndex < questions.length - 1" (click)="nextQuestion()"
          class="bg-[#114C5A] text-white px-4 py-2 rounded-md" [disabled]="!answerSelected">
          Suivant
        </button>
      </div>
    </div>

    <!-- Si toutes les questions sont termin√©es, afficher le bouton Envoyer -->
    <div *ngIf="currentQuestionIndex == questions.length" class="p-4 sm:p-8 md:p-12 lg:p-20 flex justify-center">
      <button (click)="sendResults(); closeTest(); launchToast()"
        class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">
        Voir mes r√©sultats
      </button>
    </div>
  </div>
</div>


<div class="container mx-auto mt-10 p-8 bg-white rounded-lg shadow-lg max-w-2xl">
  <h2 class="text-3xl font-bold text-center text-[#114C5A] mb-6">Inscription Apprenant</h2>

  <form [formGroup]="inscriptionForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Champ Nom -->
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700">Nom complet</label>
      <input id="name" type="text" formControlName="name"
        class="mt-1 block w-full p-3 rounded-md border border-gray-300 shadow-sm focus:border-[#114C5A] focus:ring-[#114C5A] sm:text-sm"
        placeholder="Entrez votre nom complet" />
      <div *ngIf="inscriptionForm.get('name')?.invalid && inscriptionForm.get('name')?.touched"
        class="text-red-500 text-sm mt-1">
        Le nom est requis et doit comporter au moins 3 caract√®res.
      </div>
    </div>

    <!-- Champ Email -->
    <div>
      <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
      <input id="email" type="email" formControlName="email"
        class="mt-1 block w-full p-3 rounded-md border border-gray-300 shadow-sm focus:border-[#114C5A] focus:ring-[#114C5A] sm:text-sm"
        placeholder="Entrez votre email" />
      <div *ngIf="inscriptionForm.get('email')?.invalid && inscriptionForm.get('email')?.touched"
        class="text-red-500 text-sm mt-1">
        Veuillez entrer un email valide.
      </div>
    </div>

    <!-- Champ Mot de Passe -->
    <div>
      <label for="password" class="block text-sm font-medium text-gray-700">Mot de passe</label>
      <input id="password" type="password" formControlName="password"
        class="mt-1 block w-full p-3 rounded-md border border-gray-300 shadow-sm focus:border-[#114C5A] focus:ring-[#114C5A] sm:text-sm"
        placeholder="Entrez un mot de passe" />
      <div *ngIf="inscriptionForm.get('password')?.invalid && inscriptionForm.get('password')?.touched"
        class="text-red-500 text-sm mt-1">
        Le mot de passe doit comporter au moins 6 caract√®res.
      </div>
    </div>

    <!-- Champ Confirmation du Mot de Passe -->
    <div>
      <label for="confirmPassword" class="block text-sm font-medium text-gray-700">Confirmez le mot de passe</label>
      <input id="confirmPassword" type="password" formControlName="password_confirmation"
        class="mt-1 block w-full p-3 rounded-md border border-gray-300 shadow-sm focus:border-[#114C5A] focus:ring-[#114C5A] sm:text-sm"
        placeholder="Confirmez votre mot de passe" />
      <!-- <div *ngIf="!checkPasswords() && inscriptionForm.get('password_confirmation')?.touched" class="text-red-500 text-sm mt-1">
        Les mots de passe ne correspondent pas.
      </div> -->
    </div>

    <!-- Champ Code d'invitation -->
    <div *ngIf="inscriptionForm.get('role')?.value === 'apprenant'">
      <label for="code_invitation" class="block text-sm font-medium text-gray-700">Code d'invitation</label>
      <input id="code_invitation" type="text" formControlName="code_invitaion"
        class="mt-1 block w-full p-3 rounded-md border border-gray-300 shadow-sm focus:border-[#114C5A] focus:ring-[#114C5A] sm:text-sm"
        placeholder="Entre votre code d'invitation" />
      <div *ngIf="inscriptionForm.get('code_invitaion')?.invalid && inscriptionForm.get('code_invitaion')?.touched"
        class="text-red-500 text-sm mt-1">
        Le code est requis et doit comporter au moins 3 caract√®res.
      </div>
    </div>

    <!-- Champ T√©l√©phone -->
    <div>
      <label for="phone" class="block text-sm font-medium text-gray-700">T√©l√©phone</label>
      <input id="phone" type="text" formControlName="phoneNumber"
        class="mt-1 block w-full p-3 rounded-md border border-gray-300 shadow-sm focus:border-[#114C5A] focus:ring-[#114C5A] sm:text-sm"
        placeholder="Entrez votre num√©ro de t√©l√©phone" />
      <div *ngIf="inscriptionForm.get('phoneNumber')?.invalid && inscriptionForm.get('phoneNumber')?.touched"
        class="text-red-500 text-sm mt-1">
        Veuillez entrer un num√©ro de t√©l√©phone valide (9 chiffres).
      </div>
    </div>

    <!-- Champ R√¥le -->
    <!-- <div>
      <label for="role" class="block text-sm font-medium text-gray-700">R√¥le</label>
      <select
        id="role"
        formControlName="role"
        class="mt-1 block w-full p-3 rounded-md border border-gray-300 shadow-sm focus:border-[#114C5A] focus:ring-[#114C5A] sm:text-sm"
      >
        <option value="">S√©lectionnez votre r√¥le</option>
        <option value="apprenant">Apprenant</option>
        <option value="formateur">Formateur</option>
        <option value="superviseur">Superviseur</option>
      </select>
      <div *ngIf="inscriptionForm.get('role')?.invalid && inscriptionForm.get('role')?.touched" class="text-red-500 text-sm mt-1">
        Veuillez s√©lectionner un r√¥le.
      </div>
    </div> -->

    <!-- Bouton d'inscription -->
    <div class="flex justify-center">
      <button type="submit"
        class="px-6 py-3 bg-[#114C5A] text-white rounded-md hover:bg-[#EF7743] transition-all duration-300 focus:ring-4 focus:ring-blue-300">
        S'inscrire
      </button>
    </div>
  </form>
</div>


<h2 class="mt-8 text-lg font-bold">Comp√©tences s√©lectionn√©es</h2>
<div class="flex flex-wrap gap-4 mt-4">
  <div *ngFor="let selected of selectedSkills"
    class="card w-full sm:w-40 bg-blue-100 p-4 text-center shadow-md rounded-md relative">
    <p>{{ selected.nom }}</p>
    <button class="absolute top-1 right-1 text-red-500" (click)="removeSkill(selected)">‚úï</button>
  </div>
</div>



<div class="flex justify-center">
  <h1>Liste des contenus du {{nomParcour}} de la {{nomChap}}</h1>
</div>
<div class="grid gap-4 w-full sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 px-4 mt-5">
  <div *ngFor="let contenu of contenus; let i = index">
    <div (click)="afficheContenu(contenu.file_path, getExtension(contenu.file_path))"
      class="bg-[#D9E8E3] rounded-lg shadow-lg p-6 cursor-pointer flex items-center">
      <span class="w-10 h-10 rounded-full bg-[#114C5A] flex items-center justify-center mr-2">
        <svg class="w-3 h-3 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M6 8V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6ZM19 10H5V20H19V10ZM11 15.7324C10.4022 15.3866 10 14.7403 10 14C10 12.8954 10.8954 12 12 12C13.1046 12 14 12.8954 14 14C14 14.7403 13.5978 15.3866 13 15.7324V18H11V15.7324ZM8 8H16V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8Z">
          </path>
        </svg>
      </span>
      <span class="mt-2">{{i + 1}} {{contenu.libelle}}</span>
    </div>
    <div *ngIf="displayContenu && contenuAffiche === contenu.file_path" class="mt-4">
      <ng-container [ngSwitch]="getExtension(contenu.file_path)">
        <iframe *ngSwitchCase="'pdf'" [src]="url + contenu.file_path" width="100%" height="500px"></iframe>
        <video *ngSwitchCase="'mp4'" [src]="url + contenu.file_path" controls class="w-full h-auto"></video>
        <div *ngSwitchDefault>
          <p>Le contenu de ce document ne peut pas √™tre affich√© directement.</p>
        </div>
      </ng-container>
    </div>
  </div>
</div>



<div class="flex justify-center gap-5 mt-10">
  <h1
    class="bg-[#114C5A] hover:bg-[#F9BD4F] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
    type="button">AjoutDocument</h1>
  <h1 (click)="openModalVideo()"
    class="bg-[#114C5A] hover:bg-[#F9BD4F] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
    type="button">AjoutVideo</h1>
</div>


<!-- Modal pour ajouter des videos -->
<div class="flex gap-4 mt-4">
  <div *ngIf="displayVideo" tabindex="-1" aria-hidden="true" id="modalStep2"
    class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg p-6">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold">Ajoutez les vid√©os</h2>
        <button class="text-red-400 hover:text-gray-700" (click)="closeModalVideo()">x</button>
      </div>
      <div class="w-[90%] mx-auto">
        <div class="bg-[#2C7C7933] border-dashed border-2 border-gray-500 shadow-md shadow-black/5 p-6 rounded-md">
          <span class="text-[#2C7C79]" *ngIf="!selectedFiles.length">Aucun contenu</span>

          <!-- Afficher les fichiers s√©lectionn√©s sous forme de cartes -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <ng-container *ngFor="let file of selectedFiles">
              <ng-container *ngIf="file.type.startsWith('video/')">
                <div class="bg-white border border-gray-300 rounded-lg p-4 shadow-md flex flex-col items-center">
                  <h3 class="font-bold text-center mb-2">{{ file.name }}</h3>
                  <video [src]="file.url" controls class="w-full h-32 rounded"></video>
                </div>
              </ng-container>
            </ng-container>
          </div>
        </div>
      </div>

      <div class="flex gap-4 mt-5">
        <label class="bg-[#2C7C7933] py-2 px-4 rounded hover:bg-[#F9BD4F] text-[#2C7C79] cursor-pointer">
          Vid√©o
          <input [(ngModel)]="formData.content.videos" type="file" (change)="onFilesSelected($event, 'video')"
            accept="video/*" multiple class="hidden" name="video">
        </label>

        <input [(ngModel)]="formData.libelle"
          class="bg-[#2C7C7933] shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
          id="nomChapitre" type="text" placeholder="Nom du libell√©">
        <select [(ngModel)]="formData.chapitre_id" name="chapitre_id" id="chapitre-select"
          class="bg-[#2C7C7933] shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
          <option value="">S√©lectionner un chapitre</option>
          <option *ngFor="let chap of chapitres" [value]="chap.id" name="nom_chapitre">{{ chap.nom_chapitre }}</option>
        </select>

      </div>

      <div class="mt-4 flex justify-center">
        <h1 (click)="submitVideo()" class="px-4 py-2 bg-[#F9BD4F] text-white rounded-md">Envoyer</h1>
      </div>
    </div>
  </div>
</div>


<div class="relative flex flex-col w-full h-full text-slate-700 bg-white shadow-md rounded-xl bg-clip-border">
  <div class="relative mx-4 mt-4 overflow-hidden text-slate-700 bg-white rounded-none bg-clip-border">
    <div class="flex items-center justify-between ">
      <div>
        <h3 class="text-lg font-semibold text-slate-800">Employees List</h3>
        <p class="text-slate-500">Review each person before edit</p>
      </div>
      <div class="flex flex-col gap-2 shrink-0 sm:flex-row">
        <button
          class="rounded border border-slate-300 py-2.5 px-3 text-center text-xs font-semibold text-slate-600 transition-all hover:opacity-75 focus:ring focus:ring-slate-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
          type="button">
          View All
        </button>
        <button
          class="flex select-none items-center gap-2 rounded bg-slate-800 py-2.5 px-4 text-xs font-semibold text-white shadow-md shadow-slate-900/10 transition-all hover:shadow-lg hover:shadow-slate-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
          type="button">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
            stroke-width="2" class="w-4 h-4">
            <path
              d="M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z">
            </path>
          </svg>
          Add member
        </button>
      </div>
    </div>

  </div>
  <div class="p-0 overflow-scroll">
    <table class="w-full mt-4 text-left table-auto min-w-max">
      <thead>
        <tr>
          <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">
            <p
              class="flex items-center justify-between gap-2 font-sans text-sm font-normal leading-none text-slate-500">
              Member
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                stroke="currentColor" aria-hidden="true" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"></path>
              </svg>
            </p>
          </th>
          <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">
            <p
              class="flex items-center justify-between gap-2 font-sans text-sm font-normal leading-none text-slate-500">
              Function
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                stroke="currentColor" aria-hidden="true" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"></path>
              </svg>
            </p>
          </th>
          <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">
            <p
              class="flex items-center justify-between gap-2 font-sans text-sm  font-normal leading-none text-slate-500">
              Status
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                stroke="currentColor" aria-hidden="true" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"></path>
              </svg>
            </p>
          </th>
          <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">
            <p
              class="flex items-center justify-between gap-2 font-sans text-sm  font-normal leading-none text-slate-500">
              Employed
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                stroke="currentColor" aria-hidden="true" class="w-4 h-4">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"></path>
              </svg>
            </p>
          </th>
          <th class="p-4 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100">
            <p
              class="flex items-center justify-between gap-2 font-sans text-sm  font-normal leading-none text-slate-500">
            </p>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="p-4 border-b border-slate-200">
            <div class="flex items-center gap-3">
              <img src="https://demos.creative-tim.com/test/corporate-ui-dashboard/assets/img/team-3.jpg"
                alt="John Michael" class="relative inline-block h-9 w-9 !rounded-full object-cover object-center" />
              <div class="flex flex-col">
                <p class="text-sm font-semibold text-slate-700">
                  John Michael
                </p>
                <p class="text-sm text-slate-500">
                  john@creative-tim.com
                </p>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="flex flex-col">
              <p class="text-sm font-semibold text-slate-700">
                Manager
              </p>
              <p class="text-sm text-slate-500">
                Organization
              </p>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="w-max">
              <div
                class="relative grid items-center px-2 py-1 font-sans text-xs font-bold text-green-900 uppercase rounded-md select-none whitespace-nowrap bg-green-500/20">
                <span class="">online</span>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <p class="text-sm text-slate-500">
              23/04/18
            </p>
          </td>
          <td class="p-4 border-b border-slate-200">
            <button
              class="relative h-10 max-h-[40px] w-10 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-slate-900 transition-all hover:bg-slate-900/10 active:bg-slate-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
              type="button">
              <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
                  class="w-4 h-4">
                  <path
                    d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z">
                  </path>
                </svg>
              </span>
            </button>
          </td>
        </tr>
        <tr>
          <td class="p-4 border-b border-slate-200">
            <div class="flex items-center gap-3">
              <img src="https://demos.creative-tim.com/test/corporate-ui-dashboard/assets/img/team-2.jpg"
                alt="Alexa Liras" class="relative inline-block h-9 w-9 !rounded-full object-cover object-center" />
              <div class="flex flex-col">
                <p class="text-sm font-semibold text-slate-700">
                  Alexa Liras
                </p>
                <p class="text-sm text-slate-500">
                  alexa@creative-tim.com
                </p>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="flex flex-col">
              <p class="text-sm font-semibold text-slate-700">
                Designer
              </p>
              <p class="text-sm text-slate-500">
                Marketing
              </p>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="w-max">
              <div
                class="relative grid items-center px-2 py-1 font-sans text-xs font-bold uppercase rounded-md select-none whitespace-nowrap bg-slate-100 text-slate-500">
                <span class="">offline</span>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <p class="text-sm text-slate-500">
              23/04/18
            </p>
          </td>
          <td class="p-4 border-b border-slate-200">
            <button
              class="relative h-10 max-h-[40px] w-10 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-slate-900 transition-all hover:bg-slate-900/10 active:bg-slate-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
              type="button">
              <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
                  class="w-4 h-4">
                  <path
                    d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z">
                  </path>
                </svg>
              </span>
            </button>
          </td>
        </tr>
        <tr>
          <td class="p-4 border-b border-slate-200">
            <div class="flex items-center gap-3">
              <img src="https://demos.creative-tim.com/test/corporate-ui-dashboard/assets/img/team-1.jpg"
                alt="Laurent Perrier" class="relative inline-block h-9 w-9 !rounded-full object-cover object-center" />
              <div class="flex flex-col">
                <p class="text-sm font-semibold text-slate-700">
                  Laurent Perrier
                </p>
                <p class="text-sm text-slate-500">
                  laurent@creative-tim.com
                </p>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="flex flex-col">
              <p class="text-sm font-semibold text-slate-700">
                Executive
              </p>
              <p class="text-sm text-slate-500">
                Projects
              </p>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="w-max">
              <div
                class="relative grid items-center px-2 py-1 font-sans text-xs font-bold uppercase rounded-md select-none whitespace-nowrap bg-slate-100 text-slate-500">
                <span class="">offline</span>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <p class="text-sm text-slate-500">
              19/09/17
            </p>
          </td>
          <td class="p-4 border-b border-slate-200">
            <button
              class="relative h-10 max-h-[40px] w-10 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-slate-900 transition-all hover:bg-slate-900/10 active:bg-slate-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
              type="button">
              <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
                  class="w-4 h-4">
                  <path
                    d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z">
                  </path>
                </svg>
              </span>
            </button>
          </td>
        </tr>
        <tr>
          <td class="p-4 border-b border-slate-200">
            <div class="flex items-center gap-3">
              <img src="https://demos.creative-tim.com/test/corporate-ui-dashboard/assets/img/team-4.jpg"
                alt="Michael Levi" class="relative inline-block h-9 w-9 !rounded-full object-cover object-center" />
              <div class="flex flex-col">
                <p class="text-sm font-semibold text-slate-700">
                  Michael Levi
                </p>
                <p class="text-sm text-slate-500">
                  michael@creative-tim.com
                </p>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="flex flex-col">
              <p class="text-sm font-semibold text-slate-700">
                Designer
              </p>
              <p class="text-sm text-slate-500">
                Developer
              </p>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <div class="w-max">
              <div
                class="relative grid items-center px-2 py-1 font-sans text-xs font-bold text-green-900 uppercase rounded-md select-none whitespace-nowrap bg-green-500/20">
                <span class="">online</span>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-slate-200">
            <p class="text-sm text-slate-500">
              24/12/08
            </p>
          </td>
          <td class="p-4 border-b border-slate-200">
            <button
              class="relative h-10 max-h-[40px] w-10 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-slate-900 transition-all hover:bg-slate-900/10 active:bg-slate-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
              type="button" data-dialog-target="dialog">
              <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
                  class="w-4 h-4">
                  <path
                    d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z">
                  </path>
                </svg>
              </span>
            </button>
          </td>
        </tr>

      </tbody>
    </table>
  </div>
  <div class="flex items-center justify-between p-3">
    <p class="block text-sm text-slate-500">
      Page 1 of 10
    </p>
    <div class="flex gap-1">
      <button
        class="rounded border border-slate-300 py-2.5 px-3 text-center text-xs font-semibold text-slate-600 transition-all hover:opacity-75 focus:ring focus:ring-slate-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
        type="button">
        Previous
      </button>
      <button
        class="rounded border border-slate-300 py-2.5 px-3 text-center text-xs font-semibold text-slate-600 transition-all hover:opacity-75 focus:ring focus:ring-slate-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
        type="button">
        Next
      </button>
    </div>
  </div>
</div>

<div data-dialog-backdrop="dialog" data-dialog-backdrop-close="true"
  class="absolute left-0 top-0 inset-0 z-[999] grid h-screen w-screen place-items-center bg-black bg-opacity-60 backdrop-blur-sm transition-opacity duration-300">
  <div data-dialog="dialog"
    class="relative mx-auto flex w-full max-w-[24rem] flex-col rounded-xl bg-white bg-clip-border text-slate-700 shadow-md">
    <div class="flex flex-col p-6">
      <h4 class="text-2xl mb-1 font-semibold text-slate-700">
        Edit Member Details
      </h4>
      <p class="mb-3 mt-1 text-slate-400">
        Enter or reset each information for the member access.
      </p>

      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Member Name
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Enter your text" />
      </div>
      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Member Email
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Enter the email" />
      </div>
      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Job
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Enter the job" />
      </div>
      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Active Status
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Offline/Online" />
      </div>

    </div>
    <div class="p-6 pt-0">
      <div class="flex space-x-2">
        <button
          class="w-full mx-auto select-none rounded border border-red-600 py-2 px-4 text-center text-sm font-semibold text-red-600 transition-all hover:bg-red-600 hover:text-white hover:shadow-md hover:shadow-red-600/20 active:bg-red-700 active:text-white active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
          type="button" data-dialog-close="true">
          Cancel
        </button>

        <button
          class="w-full mx-auto select-none rounded bg-slate-800 py-2 px-4 text-center text-sm font-semibold text-white shadow-md shadow-slate-900/10 transition-all hover:shadow-lg hover:shadow-slate-900/20 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
          type="button" data-dialog-close="true">
          Save
        </button>
      </div>
      <p class="flex justify-center mt-4 font-sans text-sm text-slate-500">
        Looking for more details? Contact
        <a href="#admin" class="ml-1 text-sm font-bold leading-normal text-slate-500">
          Admin.
        </a>
      </p>
    </div>
  </div>
</div>



<!-- Conteneur principal -->
<div class="p-6 flex flex-col md:flex-row justify-center gap-6">
  <!-- Premi√®re carte : D√©tails de la couleur dominante -->
  <div
    class="w-full md:w-1/2 bg-blue-50 border-l-8 border-blue-500 rounded-lg shadow-md p-6 hover:shadow-lg transition-transform transform hover:scale-105">
    <h2 [ngStyle]="{'background-color': getColorCode(dominantColor)}"
      class="text-center text-xl font-bold uppercase  text-white py-2 rounded-md">
      Couleur Dominante
    </h2>
    <div class="flex items-center justify-center my-4">
      <!-- Disque color√© -->
      <div [ngStyle]="{'background-color': getColorCode(dominantColor)}"
        class="w-20 h-20 rounded-full border-4 border-gray-300 flex items-center justify-center">
        <span class="text-white font-bold text-lg">
          {{ dominantColor }}%
        </span>
      </div>
    </div>
    <p class="text-center text-gray-700 mt-2 font-semibold">
      Couleur : {{ dominantColor}}
    </p>
    <div class="rounded-lg shadow-xl p-4 border-4" [ngStyle]="{ 'border-color': getDominantColorHex() }">
      <img [src]="getAnimalImage()" loading="lazy" [alt]="getAnimalName()"
        class="mx-auto w-40 h-40 object-cover rounded-full shadow-lg">
    </div>
  </div>

  <!-- Deuxi√®me carte : Pourcentages des autres couleurs -->
  <div
    class="w-full md:w-1/2 bg-gray-50 border-l-8 border-gray-300 rounded-lg shadow-md p-6 hover:shadow-lg transition-transform transform hover:scale-105">
    <h2 class="text-center text-xl font-bold uppercase bg-gray-500 text-white py-2 rounded-md">
      Niveau des Autres Couleurs
    </h2>
    <div class="mt-4 space-y-4">
      <!-- <div *ngFor="let color of getOtherColors(selectedTest)"
           [ngStyle]="{ 'background-color': getColorBackground(color.name) }"
           class="flex justify-between items-center rounded-lg p-4 border border-gray-300">
        <span class="text-white font-semibold uppercase">{{ color.name }}</span>
        <span class="text-white font-bold">{{ color.percentage }}%</span>
      </div> -->
    </div>
  </div>
</div>


{
"lois": [
{
"user_id":IdUserAth
}
{
"loi_id": 1,
"questions": [
{
"question_id": 1,
"score": 2
},
{
"question_id": 2,
"score": 3
},
{
"question_id": 3,
"score": 3
}
]
},
{
"loi_id": 2,
"questions": [
{
"question_id": 4,
"score": 1
},
{
"question_id": 5,
"score": 2
},
{
"question_id": 6,
"score": 2
}
]
},
{
"loi_id": 3,
"questions": [
{
"question_id": 7,
"score": 1
},
{
"question_id": 8,
"score": 2
},
{
"question_id": 9,
"score": 2
}
]
}

]
}


<div class="relative flex flex-col w-full h-full text-gray-700 bg-white shadow-md rounded-xl bg-clip-border">
  <div class="relative mx-4 mt-4 overflow-hidden text-gray-700 bg-white rounded-none bg-clip-border">
    <div class="flex items-center justify-between gap-8 mb-8">
      <div>

        <p class="block mt-1 font-sans text-base antialiased font-normal leading-relaxed text-gray-700">
          Information des utilisateurs avec les affiliations
        </p>
      </div>
      <div class="flex flex-col gap-2 shrink-0 sm:flex-row">
        <button (click)="openTab()"
          class="select-none rounded-lg bg-[#114C5A] border border-[#EF7743] py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-white transition-all hover:opacity-75 focus:ring focus:ring-gray-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
          type="button">
          Importer
        </button>
        <button
          class="py-2.5 px-4 bg-[#114C5A] text-sm font-medium text-white rounded-lg border border-[#EF7743] hover:bg-[#EF7743] hover:text-[#114C5A] focus:outline-none focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"
          (click)="submitData()">
          Soumetre
        </button>

        <a routerLink="/core/formateur/apprenant">
          <button
            class="flex select-none border border-[#EF7743] items-center gap-3 rounded-lg bg-[#114C5A] py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-white shadow-md shadow-gray-900/10 transition-all hover:shadow-lg hover:shadow-gray-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
            type="button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
              stroke-width="2" class="w-4 h-4">
              <path
                d="M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z">
              </path>
            </svg>
            Ajouter
          </button>
        </a>
      </div>
    </div>

    <!-- Tableau des donn√©es import√©es -->
    <div *ngIf="file.length > 0" class="overflow-x-auto mt-5">
      <table class="table-auto w-full text-left border-collapse border border-gray-200">
        <thead class="bg-gray-100">
          <tr>
            <th class="border border-gray-300 px-4 py-2">Nom</th>
            <th class="border border-gray-300 px-4 py-2">Prenom</th>
            <th class="border border-gray-300 px-4 py-2">Email</th>
            <th class="border border-gray-300 px-4 py-2">T√©l√©phone</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of file">
            <td class="border border-gray-300 px-4 py-2">{{ item.nom }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ item.prenom }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ item.email }}</td>
            <td class="border border-gray-300 px-4 py-2">{{ item.numero }}</td>
          </tr>
        </tbody>
      </table>

    </div>

    <div class="fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50" *ngIf="showModal">
      <div class="bg-white rounded-lg shadow-lg w-1/3">
        <div class="p-4 border-b border-gray-300">
          <h3 class="text-lg font-semibold">Format de donn√©es attendu</h3>
        </div>
        <div class="p-4">
          <table class="table-auto w-full border border-gray-300">
            <thead class="bg-gray-100">
              <tr>
                <th class="border border-gray-300 px-4 py-2">Nom</th>
                <th class="border border-gray-300 px-4 py-2">Prenom</th>
                <th class="border border-gray-300 px-4 py-2">Email</th>
                <th class="border border-gray-300 px-4 py-2">Telephone</th>
              </tr>
            </thead>
          </table>
        </div>
        <div class="p-4 flex justify-between">
          <!-- Bouton Importer une liste -->
          <label
            class="inline-block py-2.5 px-4 bg-[#114C5A] text-sm font-medium text-white rounded-lg border border-[#EF7743] hover:bg-[#EF7743] hover:text-[#114C5A] focus:outline-none focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 cursor-pointer">
            Importer
            <input type="file" accept=".xlsx, .xls" (change)="onFileChange($event)" class="hidden">
          </label>
          <button
            class="py-2.5 px-4 bg-[#114C5A] text-sm font-medium text-white rounded-lg border border-[#EF7743] hover:bg-[#EF7743] hover:text-[#114C5A] focus:outline-none focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"
            (click)="closeTab()">
            Fermer
          </button>
        </div>
      </div>
    </div>

    <div class="flex flex-col items-center justify-between gap-4 md:flex-row">
      <div class="block w-full overflow-hidden md:w-max ">
        <nav>
          <ul role="tablist" class="relative flex gap-3 flex-row p-1 rounded-lg bg-blue-gray-50 bg-opacity-60">
            <li role="tab"
              class="relative flex items-center justify-center w-full h-full px-2 py-1 font-sans text-base antialiased font-normal leading-relaxed text-center bg-transparent cursor-pointer select-none text-blue-gray-900"
              data-value="all">
              <div class="z-20 text-inherit">
                &nbsp;&nbsp;Relancer&nbsp;&nbsp;
              </div>
              <div class="absolute inset-0 z-10 h-full bg-white rounded-md shadow"></div>
            </li>
            <li role="tab"
              class="relative flex items-center justify-center w-full h-full px-2 py-1 font-sans text-base antialiased font-normal leading-relaxed text-center bg-transparent cursor-pointer select-none text-blue-gray-900"
              data-value="monitored">
              <div class="z-20 text-inherit" (click)="openListInscrit()">
                &nbsp;&nbsp;Inscrit&nbsp;&nbsp;
              </div>
              <div class="absolute inset-0 z-10 h-full bg-white rounded-md shadow"></div>
            </li>
            <li role="tab"
              class="relative flex items-center justify-center w-full h-full px-2 py-1 font-sans text-base antialiased font-normal leading-relaxed text-center bg-transparent cursor-pointer select-none text-blue-gray-900"
              data-value="unmonitored">
              <div class="z-20 text-inherit">
                &nbsp;&nbsp;NonInscrit&nbsp;&nbsp;
              </div>
              <div class="absolute inset-0 z-10 h-full bg-white rounded-md shadow"></div>
            </li>
          </ul>
        </nav>
      </div>
      <div class="w-full md:w-72">
        <div class="relative h-10 w-full min-w-[200px]">
          <div class="absolute grid w-5 h-5 top-2/4 right-3 -translate-y-2/4 place-items-center text-blue-gray-500">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" aria-hidden="true" class="w-5 h-5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path>
            </svg>
          </div>
          <input
            class="peer h-full w-full rounded-[7px] border border-blue-gray-200 border-t-transparent bg-transparent px-3 py-2.5 !pr-9 font-sans text-sm font-normal text-blue-gray-700 outline outline-0 transition-all placeholder-shown:border placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200 focus:border-2 focus:border-gray-900 focus:border-t-transparent focus:outline-0 disabled:border-0 disabled:bg-blue-gray-50"
            placeholder=" " />
          <label
            class="before:content[' '] after:content[' '] pointer-events-none absolute left-0 -top-1.5 flex h-full w-full select-none !overflow-visible truncate text-[11px] font-normal leading-tight text-gray-500 transition-all before:pointer-events-none before:mt-[6.5px] before:mr-1 before:box-border before:block before:h-1.5 before:w-2.5 before:rounded-tl-md before:border-t before:border-l before:border-blue-gray-200 before:transition-all after:pointer-events-none after:mt-[6.5px] after:ml-1 after:box-border after:block after:h-1.5 after:w-2.5 after:flex-grow after:rounded-tr-md after:border-t after:border-r after:border-blue-gray-200 after:transition-all peer-placeholder-shown:text-sm peer-placeholder-shown:leading-[3.75] peer-placeholder-shown:text-blue-gray-500 peer-placeholder-shown:before:border-transparent peer-placeholder-shown:after:border-transparent peer-focus:text-[11px] peer-focus:leading-tight peer-focus:text-gray-900 peer-focus:before:border-t-2 peer-focus:before:border-l-2 peer-focus:before:!border-gray-900 peer-focus:after:border-t-2 peer-focus:after:border-r-2 peer-focus:after:!border-gray-900 peer-disabled:text-transparent peer-disabled:before:border-transparent peer-disabled:after:border-transparent peer-disabled:peer-placeholder-shown:text-blue-gray-500">
            Search
          </label>
        </div>
      </div>
    </div>
  </div>
  <div class="p-6 px-0 ">
    <table class="w-full mt-4 text-left table-auto min-w-max">
      <thead>
        <tr>
          <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
            <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
              Nom
            </p>
          </th>
          <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
            <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
              Prenom
            </p>
          </th>
          <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
            <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
              Email
            </p>
          </th>
          <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
            <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
              Numero
            </p>
          </th>
          <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
            <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
              Status
            </p>
          </th>
          <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
            <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
              Date
            </p>
          </th>
          <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
            <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
              Action
            </p>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let aff of affiliations;let index">
          <td class="p-4 border-b border-blue-gray-50">
            <div class="flex items-center gap-3">
              <!-- <img src="https://demos.creative-tim.com/test/corporate-ui-dashboard/assets/img/team-3.jpg"
                alt="John Michael" class="relative inline-block h-9 w-9 !rounded-full object-cover object-center" /> -->
              <div class="flex flex-col">
                <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
                  {{aff.nom}}
                </p>

              </div>
            </div>
          </td>
          <td class="p-4 border-b border-blue-gray-50">
            <div class="flex flex-col">
              <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
                {{aff.prenom}}
              </p>

            </div>
          </td>
          <td class="p-4 border-b border-blue-gray-50">
            <div class="w-max">
              <div class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
                <span class="">{{aff.email}}</span>
              </div>
            </div>
          </td>
          <td class="p-4 border-b border-blue-gray-50">
            <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
              {{aff.numero}}
            </p>
          </td>
          <td class="p-4 border-b border-blue-gray-50">
            <p
              class="relative grid items-center px-2 py-1 font-sans text-xs font-bold text-green-900 uppercase rounded-md select-none whitespace-nowrap bg-green-500/20">
              {{ aff.isInscrit === 0 ? 'Non inscrit' : 'Inscrit' }}
            </p>
          </td>
          <td class="p-4 border-b border-blue-gray-50">
            <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
              {{aff.created_at | date:'dd/MM/yyyy'}}
            </p>
          </td>
          <td class="p-4 border-b border-blue-gray-50">
            <button
              class="relative h-10 max-h-[40px] w-10 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-gray-900 transition-all hover:bg-gray-900/10 active:bg-gray-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
              type="button">
              <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
                  class="w-4 h-4">
                  <path
                    d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z">
                  </path>
                </svg>
              </span>
            </button>
          </td>
        </tr>

      </tbody>
    </table>
  </div>
  <!-- <div class="flex items-center justify-between p-4 border-t border-blue-gray-50">
    <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
      Page 1 of 10
    </p>
    <div class="flex gap-2">
      <button
        class="select-none rounded-lg border border-gray-900 py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-gray-900 transition-all hover:opacity-75 focus:ring focus:ring-gray-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
        type="button">
        Previous
      </button>
      <button
        class="select-none rounded-lg border border-gray-900 py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-gray-900 transition-all hover:opacity-75 focus:ring focus:ring-gray-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
        type="button">
        Next
      </button>
    </div>
  </div> -->
</div>

<!-- List User Inscrit -->
<div class="p-6 px-0 " *ngIf="isInscrit">
  <table class="w-full mt-4 text-left table-auto min-w-max">
    <thead>
      <tr>
        <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
          <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
            Nom
          </p>
        </th>
        <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
          <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
            Prenom
          </p>
        </th>
        <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
          <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
            Email
          </p>
        </th>
        <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
          <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
            Numero
          </p>
        </th>
        <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
          <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
            Status
          </p>
        </th>
        <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
          <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
            Date
          </p>
        </th>
        <th class="p-4 border-y border-blue-gray-100 bg-blue-gray-50/50">
          <p class="block font-sans text-sm antialiased font-normal leading-none text-blue-gray-900 opacity-70">
            Action
          </p>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let aff of affiliations;let index">
        <td class="p-4 border-b border-blue-gray-50">
          <div class="flex items-center gap-3">
            <!-- <img src="https://demos.creative-tim.com/test/corporate-ui-dashboard/assets/img/team-3.jpg"
              alt="John Michael" class="relative inline-block h-9 w-9 !rounded-full object-cover object-center" /> -->
            <div class="flex flex-col">
              <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
                {{aff.nom}}
              </p>

            </div>
          </div>
        </td>
        <td class="p-4 border-b border-blue-gray-50">
          <div class="flex flex-col">
            <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
              {{aff.prenom}}
            </p>

          </div>
        </td>
        <td class="p-4 border-b border-blue-gray-50">
          <div class="w-max">
            <div class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
              <span class="">{{aff.email}}</span>
            </div>
          </div>
        </td>
        <td class="p-4 border-b border-blue-gray-50">
          <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
            {{aff.numero}}
          </p>
        </td>
        <td class="p-4 border-b border-blue-gray-50">
          <p
            class="relative grid items-center px-2 py-1 font-sans text-xs font-bold text-green-900 uppercase rounded-md select-none whitespace-nowrap bg-green-500/20">
            {{ aff.isInscrit === 0 ? 'Non inscrit' : 'Inscrit' }}
          </p>
        </td>
        <td class="p-4 border-b border-blue-gray-50">
          <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
            {{aff.created_at | date:'dd/MM/yyyy'}}
          </p>
        </td>
        <td class="p-4 border-b border-blue-gray-50">
          <button
            class="relative h-10 max-h-[40px] w-10 max-w-[40px] select-none rounded-lg text-center align-middle font-sans text-xs font-medium uppercase text-gray-900 transition-all hover:bg-gray-900/10 active:bg-gray-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
            type="button">
            <span class="absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"
                class="w-4 h-4">
                <path
                  d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z">
                </path>
              </svg>
            </span>
          </button>
        </td>
      </tr>

    </tbody>
  </table>
</div>
<!-- <div class="flex items-center justify-between p-4 border-t border-blue-gray-50">
  <p class="block font-sans text-sm antialiased font-normal leading-normal text-blue-gray-900">
    Page 1 of 10
  </p>
  <div class="flex gap-2">
    <button
      class="select-none rounded-lg border border-gray-900 py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-gray-900 transition-all hover:opacity-75 focus:ring focus:ring-gray-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
      type="button">
      Previous
    </button>
    <button
      class="select-none rounded-lg border border-gray-900 py-2 px-4 text-center align-middle font-sans text-xs font-bold uppercase text-gray-900 transition-all hover:opacity-75 focus:ring focus:ring-gray-300 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
      type="button">
      Next
    </button>
  </div>
</div> -->


<div *ngIf="display" data-dialog-backdrop="dialog" data-dialog-backdrop-close="true"
  class="absolute left-0 top-0 inset-0 z-[999] grid h-screen w-screen place-items-center bg-black bg-opacity-60 backdrop-blur-sm transition-opacity duration-300">
  <div data-dialog="dialog"
    class="relative mx-auto flex w-full max-w-[24rem] flex-col rounded-xl bg-white bg-clip-border text-slate-700 shadow-md">
    <div class="flex flex-col p-6">
      <h4 class="text-2xl mb-1 font-semibold text-slate-700">
        Entrez les informations d'un participant
      </h4>
      <p class="mb-3 mt-1 text-slate-400">
        Enter or reset each information for the member access.
      </p>

      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Nom Complet
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Entrer un nom" />
      </div>
      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Email
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Entrer un email" />
      </div>
      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Code d'affiliation
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Entrer un code d'affiliation" />
      </div>
      <div class="w-full max-w-sm min-w-[200px] mt-4">
        <label class="block mb-1 text-sm text-slate-700">
          Active Status
        </label>
        <input type="text"
          class="w-full h-10 bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded px-3 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-400 shadow-sm focus:shadow-md"
          placeholder="Offline/Online" />
      </div>

    </div>
    <div class="p-6 pt-0">
      <div class="flex space-x-2">
        <button (click)="closeModalAjout()"
          class="w-full mx-auto select-none rounded border border-red-600 py-2 px-4 text-center text-sm font-semibold text-red-600 transition-all hover:bg-red-600 hover:text-white hover:shadow-md hover:shadow-red-600/20 active:bg-red-700 active:text-white active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
          type="button" data-dialog-close="true">
          Cancel
        </button>

        <button
          class="w-full mx-auto select-none rounded bg-[#114C5A]  py-2 px-4 text-center text-sm font-semibold text-white shadow-md shadow-slate-900/10 transition-all hover:shadow-lg hover:shadow-slate-900/20 active:opacity-[0.85] disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
          type="button" data-dialog-close="true">
          Save
        </button>
      </div>
      <!-- <p class="flex justify-center mt-4 font-sans text-sm text-slate-500">
        Looking for more details? Contact
        <a href="#admin"
          class="ml-1 text-sm font-bold leading-normal text-slate-500">
          Admin.
        </a>
      </p> -->
    </div>
  </div>
</div>


<nav class="navigation w-72 bg-[#114C5A] text-white fixed left-0 top-0 overflow-y-auto h-full z-50 hidden md:block">
  <ul class="flex flex-col space-y-4 px-4 py-8">

    <!-- Partie Apprenant -->
    <li class="mb-1 group">
      <a routerLink="/core/apprenant/form" *ngIf="role== 'apprenant'" routerLinkActive="active-link"
        class="flex items-center py-2 px-4 text-gray-300 hover:bg-[#EF7743] hover:text-gray-100 rounded-md group-[.active]:bg-gray-800 group-[.active]:text-white group-[.selected]:bg-gray-950 group-[.selected]:text-gray-100">
        <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M1 17C1 15.4596 1 14.6893 1.34673 14.1235C1.54074 13.8069 1.80693 13.5407 2.12353 13.3467C2.68934 13 3.45956 13 5 13C6.54044 13 7.31066 13 7.87647 13.3467C8.19307 13.5407 8.45926 13.8069 8.65327 14.1235C9 14.6893 9 15.4596 9 17C9 18.5404 9 19.3107 8.65327 19.8765C8.45926 20.1931 8.19307 20.4593 7.87647 20.6533C7.31066 21 6.54044 21 5 21C3.45956 21 2.68934 21 2.12353 20.6533C1.80693 20.4593 1.54074 20.1931 1.34673 19.8765C1 19.3107 1 18.5404 1 17Z"
            stroke="#D9E8E3" stroke-width="1.5" />
          <path
            d="M13 17C13 15.4596 13 14.6893 13.3467 14.1235C13.5407 13.8069 13.8069 13.5407 14.1235 13.3467C14.6893 13 15.4596 13 17 13C18.5404 13 19.3107 13 19.8765 13.3467C20.1931 13.5407 20.4593 13.8069 20.6533 14.1235C21 14.6893 21 15.4596 21 17C21 18.5404 21 19.3107 20.6533 19.8765C20.4593 20.1931 20.1931 20.4593 19.8765 20.6533C19.3107 21 18.5404 21 17 21C15.4596 21 14.6893 21 14.1235 20.6533C13.8069 20.4593 13.5407 20.1931 13.3467 19.8765C13 19.3107 13 18.5404 13 17Z"
            stroke="#D9E8E3" stroke-width="1.5" />
          <path
            d="M1 5C1 3.45956 1 2.68934 1.34673 2.12353C1.54074 1.80693 1.80693 1.54074 2.12353 1.34673C2.68934 1 3.45956 1 5 1C6.54044 1 7.31066 1 7.87647 1.34673C8.19307 1.54074 8.45926 1.80693 8.65327 2.12353C9 2.68934 9 3.45956 9 5C9 6.54044 9 7.31066 8.65327 7.87647C8.45926 8.19307 8.19307 8.45926 7.87647 8.65327C7.31066 9 6.54044 9 5 9C3.45956 9 2.68934 9 2.12353 8.65327C1.80693 8.45926 1.54074 8.19307 1.34673 7.87647C1 7.31066 1 6.54044 1 5Z"
            stroke="#D9E8E3" stroke-width="1.5" />
          <path
            d="M13 5C13 3.45956 13 2.68934 13.3467 2.12353C13.5407 1.80693 13.8069 1.54074 14.1235 1.34673C14.6893 1 15.4596 1 17 1C18.5404 1 19.3107 1 19.8765 1.34673C20.1931 1.54074 20.4593 1.80693 20.6533 2.12353C21 2.68934 21 3.45956 21 5C21 6.54044 21 7.31066 20.6533 7.87647C20.4593 8.19307 20.1931 8.45926 19.8765 8.65327C19.3107 9 18.5404 9 17 9C15.4596 9 14.6893 9 14.1235 8.65327C13.8069 8.45926 13.5407 8.19307 13.3467 7.87647C13 7.31066 13 6.54044 13 5Z"
            stroke="#D9E8E3" stroke-width="1.5" />
        </svg>
        <span class="font-inter font-semibold text-sm ml-2">Mon test Mini Disc</span>
      </a>
    </li>
    <li class="mb-1 group ml-8">
      <a routerLink="/core/apprenant/caracterise" *ngIf="role== 'apprenant'" routerLinkActive="active-link"
        class="flex items-center py-2 px-4 text-gray-300 hover:bg-[#EF7743] hover:text-gray-100 rounded-md group-[.active]:bg-gray-800 group-[.active]:text-white group-[.selected]:bg-gray-950 group-[.selected]:text-gray-100">
        <svg width="22" height="18" viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M6.5 7H5.5C4.08579 7 3.37868 7 2.93934 6.56066C2.5 6.12132 2.5 5.41421 2.5 4C2.5 2.58579 2.5 1.87868 2.93934 1.43934C3.37868 1 4.08579 1 5.5 1H6.5C7.91421 1 8.62132 1 9.06066 1.43934C9.5 1.87868 9.5 2.58579 9.5 4C9.5 5.41421 9.5 6.12132 9.06066 6.56066C8.62132 7 7.91421 7 6.5 7Z"
            stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M2.5 3H1" stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M21 3H19.5" stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path
            d="M2.15224 15.7654L1.45933 16.0524L1.45933 16.0524L2.15224 15.7654ZM3.23463 16.8478L2.94762 17.5407H2.94762L3.23463 16.8478ZM3.23463 11.1522L2.94762 10.4593L2.94762 10.4593L3.23463 11.1522ZM2.15224 12.2346L1.45933 11.9476V11.9476L2.15224 12.2346ZM20 11.75C20.4142 11.75 20.75 11.4142 20.75 11C20.75 10.5858 20.4142 10.25 20 10.25V11.75ZM20 17.75C20.4142 17.75 20.75 17.4142 20.75 17C20.75 16.5858 20.4142 16.25 20 16.25V17.75ZM19 17.75C19.4142 17.75 19.75 17.4142 19.75 17C19.75 16.5858 19.4142 16.25 19 16.25V17.75ZM19 11.75C19.4142 11.75 19.75 11.4142 19.75 11C19.75 10.5858 19.4142 10.25 19 10.25V11.75ZM1.25 14C1.25 14.4557 1.24959 14.835 1.27077 15.1454C1.29241 15.4625 1.33905 15.762 1.45933 16.0524L2.84515 15.4784C2.81319 15.4012 2.78372 15.284 2.76729 15.0433C2.75041 14.7958 2.75 14.4762 2.75 14H1.25ZM5 16.25C4.5238 16.25 4.20421 16.2496 3.95674 16.2327C3.71602 16.2163 3.5988 16.1868 3.52165 16.1548L2.94762 17.5407C3.23801 17.661 3.53754 17.7076 3.85464 17.7292C4.165 17.7504 4.54432 17.75 5 17.75V16.25ZM1.45933 16.0524C1.73844 16.7262 2.27379 17.2616 2.94762 17.5407L3.52165 16.1548C3.21536 16.028 2.97202 15.7846 2.84515 15.4784L1.45933 16.0524ZM5 10.25C4.54432 10.25 4.165 10.2496 3.85464 10.2708C3.53754 10.2924 3.23801 10.339 2.94762 10.4593L3.52165 11.8452C3.5988 11.8132 3.71602 11.7837 3.95674 11.7673C4.20421 11.7504 4.5238 11.75 5 11.75V10.25ZM2.75 14C2.75 13.5238 2.75041 13.2042 2.76729 12.9567C2.78372 12.716 2.81319 12.5988 2.84515 12.5216L1.45933 11.9476C1.33905 12.238 1.29241 12.5375 1.27077 12.8546C1.24959 13.165 1.25 13.5443 1.25 14H2.75ZM2.94762 10.4593C2.27379 10.7384 1.73844 11.2738 1.45933 11.9476L2.84515 12.5216C2.97202 12.2154 3.21536 11.972 3.52165 11.8452L2.94762 10.4593ZM20 10.25H5V11.75H20V10.25ZM5 17.75H20V16.25H5V17.75ZM19 16.25C18.7765 16.25 18.4824 16.1141 18.2098 15.7053C17.9408 15.3017 17.75 14.701 17.75 14H16.25C16.25 14.9558 16.5069 15.8551 16.9617 16.5373C17.4131 17.2143 18.1189 17.75 19 17.75V16.25ZM17.75 14C17.75 13.299 17.9408 12.6983 18.2098 12.2947C18.4824 11.8859 18.7765 11.75 19 11.75V10.25C18.1189 10.25 17.4131 10.7857 16.9617 11.4627C16.5069 12.1449 16.25 13.0442 16.25 14H17.75Z"
            fill="#D9E8E3" />
          <path
            d="M15.5 7H16.5C17.9142 7 18.6213 7 19.0607 6.56066C19.5 6.12132 19.5 5.41421 19.5 4C19.5 2.58579 19.5 1.87868 19.0607 1.43934C18.6213 1 17.9142 1 16.5 1H15.5C14.0858 1 13.3787 1 12.9393 1.43934C12.5 1.87868 12.5 2.58579 12.5 4C12.5 5.41421 12.5 6.12132 12.9393 6.56066C13.3787 7 14.0858 7 15.5 7Z"
            stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path d="M12.5 3C12.5 2.17157 11.8284 1.5 11 1.5C10.1716 1.5 9.5 2.17157 9.5 3" stroke="#D9E8E3"
            stroke-width="1.5" />
        </svg>
        <span class="font-inter font-semibold text-sm ml-2">Les couleurs</span>
      </a>
    </li>
     <!-- Partie Superviseur -->
     <li class="mb-1 group">
      <a routerLink="/core/superviseur/listApprenant" *ngIf="role== 'superviseur'" routerLinkActive="router-active"
        class="flex items-center py-2 px-4 text-gray-300 hover:bg-[#EF7743] hover:text-gray-100 rounded-md group-[.active]:bg-gray-800 group-[.active]:text-white group-[.selected]:bg-gray-950 group-[.selected]:text-gray-100">
        <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13.001 1.5C16.7722 1.5 18.6578 1.5 19.8294 2.7448C21.001 3.98959 21.001 5.99306 21.001 10C21.001 14.0069 21.001 16.0104 19.8294 17.2552C18.6578 18.5 16.7722 18.5 13.001 18.5L9.00098 18.5C5.22974 18.5 3.34412 18.5 2.17255 17.2552C1.00098 16.0104 1.00098 14.0069 1.00098 10C1.00098 5.99306 1.00098 3.98959 2.17255 2.7448C3.34412 1.5 5.22974 1.5 9.00098 1.5L13.001 1.5Z" stroke="#D9E8E3" stroke-width="1.5" stroke-linejoin="round"/>
          <path d="M4.00098 13.4999C5.60963 11.3625 9.35488 11.2458 11.001 13.4999M9.25 8.25C9.25 9.2165 8.4665 10 7.5 10C6.5335 10 5.75 9.2165 5.75 8.25C5.75 7.2835 6.5335 6.5 7.5 6.5C8.4665 6.5 9.25 7.2835 9.25 8.25Z" stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M14.001 7.5L18.001 7.5" stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M14.001 11.5H16.001" stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        <span class="font-inter font-semibold text-sm ml-2">List Participant</span>
      </a>
    </li>

    <li class="mb-1 group">
      <a routerLink="/core/superviseur/resultat" *ngIf="role== 'superviseur'" routerLinkActive="router-active"
        class="flex items-center py-2 px-4 text-gray-300 hover:bg-[#EF7743] hover:text-gray-100 rounded-md group-[.active]:bg-gray-800 group-[.active]:text-white group-[.selected]:bg-gray-950 group-[.selected]:text-gray-100">
        <svg width="22" height="18" viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13 13C13 11.1144 13 10.1716 13.5858 9.58579C14.1716 9 15.1144 9 17 9C18.8856 9 19.8284 9 20.4142 9.58579C21 10.1716 21 11.1144 21 13C21 14.8856 21 15.8284 20.4142 16.4142C19.8284 17 18.8856 17 17 17C15.1144 17 14.1716 17 13.5858 16.4142C13 15.8284 13 14.8856 13 13Z" stroke="#D9E8E3" stroke-width="1.5"/>
          <path d="M13 13V8.86265C13 5.19569 15.5157 2.08584 19 1" stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M1 13C1 11.1144 1 10.1716 1.58579 9.58579C2.17157 9 3.11438 9 5 9C6.88562 9 7.82843 9 8.41421 9.58579C9 10.1716 9 11.1144 9 13C9 14.8856 9 15.8284 8.41421 16.4142C7.82843 17 6.88562 17 5 17C3.11438 17 2.17157 17 1.58579 16.4142C1 15.8284 1 14.8856 1 13Z" stroke="#D9E8E3" stroke-width="1.5"/>
          <path d="M1 13V8.86265C1 5.19569 3.51571 2.08584 7 1" stroke="#D9E8E3" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
        <span class="font-inter font-semibold text-sm ml-2">R√©sultats</span>
      </a>
    </li>
    </ul>
</nav>

<div class="flex justify-center font-inter">
  <div *ngIf="testStarted" class="border border-gray-300 rounded-lg shadow-md p-6 space-y-6">
    <!-- Barre de progression sous forme de cercles -->
    <div *ngIf="questions.length > 0" class="flex justify-center space-x-2 mb-6">
      <div *ngFor="let question of questions; let i = index"
        class="w-5 h-5 flex items-center justify-center rounded-full border-2" [ngClass]="{
            'bg-green-500 text-white border-green-500': currentQuestionIndex === i,
            'bg-gray-200 text-gray-700 border-gray-300': currentQuestionIndex !== i
          }">
        {{ i + 1 }}
      </div>
    </div>

    <!-- Section Question -->
    <div *ngIf="currentQuestionIndex < questions.length" class="p-4">
      <h2 class="text-[#114C5A]">{{ currentQuestionIndex + 1 }}. {{ questions[currentQuestionIndex].text }}</h2>

      <div *ngFor="let answer of remainingAnswers; let i = index" class="mt-5">
        <div class="bg-white border border-gray-300 rounded-lg shadow-md p-6">
          <p class="text-[#EF7743] text-lg font-bold mb-4">{{ answer.text }}</p>
          <div class="space-y-4">
            <label class="block" *ngIf="remainingPoints.includes(6)">
              <input type="radio" name="points" [value]="6" (change)="submitAnswer(6, answer); answerSelected = true"
                class="mr-2">
              Me correspond le plus
            </label>
            <label class="block" *ngIf="remainingPoints.includes(3)">
              <input type="radio" name="points" [value]="3" (change)="submitAnswer(3, answer); answerSelected = true"
                class="mr-2">
              Me correspond assez
            </label>
            <label class="block" *ngIf="remainingPoints.includes(1)">
              <input type="radio" name="points" [value]="1" (change)="submitAnswer(1, answer); answerSelected = true"
                class="mr-2">
              Me correspond assez peu
            </label>
            <label class="block" *ngIf="remainingPoints.includes(0)">
              <input type="radio" name="points" [value]="0" (change)="submitAnswer(0, answer); answerSelected = true"
                class="mr-2">
              Ne me correspond pas du tout
            </label>
          </div>
        </div>
      </div>

      <div class="mt-4">
        <button *ngIf="currentQuestionIndex > 0" (click)="previousQuestion()"
          class="bg-[#EF7743] text-white px-4 py-2 rounded-md mr-2">
          Pr√©c√©dent
        </button>
        <button *ngIf="currentQuestionIndex < questions.length - 1" (click)="nextQuestion()"
          class="bg-[#114C5A] text-white px-4 py-2 rounded-md" [disabled]="!answerSelected">
          Suivant
        </button>
      </div>
    </div>

    <!-- Section finale -->
    <div *ngIf="currentQuestionIndex == questions.length" class="p-4 sm:p-8 md:p-12 lg:p-20">
      <div class="relative items-center space-x-4 p-4 bg-gray-100 rounded-lg overflow-hidden">
        <!-- Effet Boum -->
        <div class="absolute top-0 left-0 right-0 bottom-0 flex items-center justify-center z-0">
          <div class="w-40 h-40 bg-yellow-400 rounded-full animate-boum"></div>
        </div>

        <!-- Image -->
        <img src="assets/gifs/E62.gif" alt="Animation de f√©licitations"
          class="h-48 w-full animate__animated animate__fadeIn z-10">

        <!-- Texte -->
        <span class="text-2xl font-semibold font-inter text-gray-700 leading-relaxed z-10">
          F√©licitations, vous avez termin√© votre test avec succ√®s, et je vous connais parfaitement maintenant.
          Vous en doutez ? Cliquez sur le bouton ci-dessous.
        </span>
      </div>
      <div>
        <a routerLink="/core/apprenant/test">
        <button (click)="sendResults(); closeTest(); launchToast()"
          class="bg-[#114C5A] text-white px-4 py-2 rounded-md mt-4">
          Voir mes r√©sultats
        </button>
      </a>
      </div>
    </div>
  </div>
</div>
